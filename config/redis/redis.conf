# Redis configuration for persistence and high availability
dir /data
appendonly yes
appendfilename "appendonly.aof"
appendfsync everysec

# Memory management
maxmemory 2gb
maxmemory-policy allkeys-lru

# Connection settings
timeout 0
tcp-keepalive 300

# Security
protected-mode yes
requirepass ${REDIS_PASSWORD}

# Performance tuning
activerehashing yes
lua-time-limit 5000